---
published: true
publishedAt: 2024-06-27
tags:
  - ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°
  - ãƒã‚¿
created: 2024-06-27 03:20:04+09:00
modified: 2024-06-27 16:38:03+09:00
---

# ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒ»ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ã®ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ç”Ÿæˆå™¨ã‚’ä½œã£ã¦ã¿ãŸã€è‡ªç„¶è¨€èªå‡¦ç†ã€‘

## ã¯ã˜ã‚ã«

ã“ã‚“ã«ã¡ã¯ã€‚ã¯ã£ã•ãã§ã™ï¼

æœ€è¿‘ã€**è‡ªç„¶è¨€èªå‡¦ç†**ãŒæµè¡Œã£ã¦ã¾ã™ã‚ˆã­ã€‚ãªã®ã§ç§ã‚‚æ–‡ç« ã®ç”Ÿæˆãƒ¢ãƒ‡ãƒ«ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚

å…ˆã«éŠã‚“ã§ã¿ãŸã„æ–¹ã¯ã“ã¡ã‚‰ã®ãƒªãƒ³ã‚¯ã‹ã‚‰ã©ã†ãï¼

[ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒŒãƒ¼ãƒœãƒ¼ã‚¨ã‚»ã‚½ãƒ ãƒªã‚¨ç”Ÿæˆå™¨ - ã¯ã£ã•ãã®æ—…ãƒ–ãƒ­ã‚°](https://hassaku-travel-blog.com/trash-can/beaujolais)

## ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒ»ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ã¨ã¯

### æ¦‚è¦

[ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒ¯ã‚¤ãƒ³](https://ja.wikipedia.org/wiki/ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒ¯ã‚¤ãƒ³#ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒ»ãƒŒãƒ´ã‚©ãƒ¼)

è©³ã—ãçŸ¥ã‚ŠãŸã„äººã¯Wikipediaã‚’ã”è¦§ãã ã•ã„ï¼ˆå®šæœŸï¼‰ã€‚

ç°¡å˜ã«ã¾ã¨ã‚ã‚‹ã¨ã€ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒ»ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ã¯æ¬¡ã®ã‚ˆã†ãªç‰¹å¾´ã‚’æŒã£ãŸãƒ¯ã‚¤ãƒ³ã§ã™ã€‚

- ãƒ•ãƒ©ãƒ³ã‚¹ã®ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ã§ç”Ÿç”£ã•ã‚Œã‚‹ãƒ¯ã‚¤ãƒ³
- ç†Ÿæˆã®æµ…ã„è©¦é£²ç”¨ã®ãƒ¯ã‚¤ãƒ³ã§ã€ãã®å¹´ã®ã¶ã©ã†ã®å‡ºæ¥ã‚’åˆ¤æ–­ã™ã‚‹è©¦é‡‘çŸ³ã«ãªã£ã¦ã„ã‚‹
- 11æœˆã®ç¬¬3æœ¨æ›œæ—¥ã«ä¸–ç•ŒåŒæ™‚è§£ç¦ã•ã‚Œã‚‹
- æ—¥æœ¬ã¯ã¨ã‚Šã‚ã‘å¸‚å ´è¦æ¨¡ãŒå¤§ãã„
- ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ãŒã²ã©ã„

ã“ã®è¨˜äº‹ã§ã¯ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã«æ³¨ç›®ã—ã¾ã™ã€‚

### ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼

#### ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ã¨ã„ãˆã°ã€ã€ã€

ç§ã¯ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒ»ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ã¨ã„ãˆã°ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã ã¨æ€ã£ã¦ã„ã¾ã™ã€‚ã“ã‚“ãªæ­ªã‚“ã èªçŸ¥ã‚’ã—ã¦ã—ã¾ã£ã¦ã„ã‚‹ã®ã«ã‚‚ç†ç”±ãŒã‚ã‚Šã¾ã™ã€‚

éå»ã®ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã‹ã‚‰æ•°å¹´åˆ†æŠœç²‹ã—ã¦ç´¹ä»‹ã—ã¾ã™ã€‚

| å¹´     | ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼                         |
| ----- | ------------------------------- |
| 2009å¹´ | éå»æœ€é«˜ã¨è¨€ã‚ã‚ŒãŸ05å¹´ã«åŒ¹æ•µã™ã‚‹50å¹´ã«ä¸€åº¦ã®å‡ºæ¥      |
| 2010å¹´ | 2009å¹´ã¨åŒç­‰ã®å‡ºæ¥                     |
| 2011å¹´ | 100å¹´ã«1åº¦ã®å‡ºæ¥ã¨ã•ã‚ŒãŸ03å¹´ã‚’è¶…ã™21ä¸–ç´€æœ€é«˜ã®å‡ºæ¥æ „ãˆ |

ã©ã†ã§ã—ã‚‡ã†ã‹ï¼Ÿã“ã‚Œã¯ã²ã©ããªã„ã§ã™ã‹ï¼Ÿ

ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ã¨ã„ãˆã°ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã¨æ€ã£ã¦ã—ã¾ã†ã®ã‚‚ç„¡ç†ãªã„ã§ã™ã‚ˆã­ã€‚

#### ç›¸é–¢å›³

ã‚ã¾ã‚Šã«ã™ã”ã„ã®ã§ã€ç›¸é–¢å›³ã‚’ä½œæˆã—ã¦ã¿ã¾ã—ãŸã€‚

Wikipediaã«ã¯2015å¹´åˆ†ã¾ã§ã—ã‹æ²è¼‰ã•ã‚Œã¦ã„ãªã‹ã£ãŸã®ã§ã€ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒ¯ã‚¤ãƒ³å§”å“¡ä¼šã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚‚å‚è€ƒã«ã—ã¦ä½œæˆã—ã¾ã—ãŸã€‚

ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒ¯ã‚¤ãƒ³å§”å“¡ä¼šã®ãƒªãƒ³ã‚¯ï¼ˆ2022å¹´åˆ†ã—ã‹è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸï¼‰

- [2022å¹´](https://beaujolais-wines.jp/%E3%83%9C%E3%82%B8%E3%83%A7%E3%83%AC%E3%83%BC%E3%83%AF%E3%82%A4%E3%83%B3%E5%A7%94%E5%93%A1%E4%BC%9A_2022%E5%B9%B4%E3%83%B4%E3%82%A3%E3%83%B3%E3%83%86%E3%83%BC%E3%82%B8%E6%83%85%E5%A0%B1.pdf)

å‡ºæ¥ä¸ŠãŒã£ãŸç›¸é–¢å›³ã¯ã“ã‚Œã§ã™ï¼

![mermaid-diagram-2023-04-16-234917.png](./assets/mermaid-diagram-2023-04-16-234917.png)

æ™‚ç³»åˆ—ã«æ²¿ã£ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆè¶…ç¸¦é•·ï¼‰

![mermaid-diagram-2023-04-16-234920.png](./assets/mermaid-diagram-2023-04-16-234920.png)

1995ã€œ1997å¹´ã®æ•°å¹´ã«ä¸€åº¦ãƒ©ãƒƒã‚·ãƒ¥ã¯ç´ æ™´ã‚‰ã—ã„ã§ã™ã­ã€‚ãã—ã¦10å¹´çµŒãŸãšã«ãã‚Œã‚’è¶…ãˆã¦ã„ã2001å¹´ã€‚

éå»æœ€é«˜ã¨è¨€ã‚ã‚Œã‚‹2005å¹´ã®ç¿Œå¹´ã«ãã‚Œã«è¿‘ã„å‘³ãŒå‡ºã¦ã„ã‚‹ã®ã‚‚èˆˆå‘³æ·±ã„ã§ã™ã€‚

ãã—ã¦ãã‚Œã«åŒ¹æ•µã™ã‚‹2009å¹´ã®ç¿Œå¹´ã«ã¯åŒç­‰ã®ã‚‚ã®ãŒç”Ÿç”£ã•ã‚Œã€ã•ã‚‰ã«ç¿Œå¹´ã¯21ä¸–ç´€æœ€é«˜ãŒå‡ºã‚‹ã¨ã„ã†ã‚¤ãƒ³ãƒ•ãƒ¬ã£ã·ã‚Šã€‚

ã„ã¤è¦‹ã¦ã‚‚èŠ¸è¡“çš„ã§ã™ã­ã€‚

## ä»Šå›ã®ç›®æ¨™

ãã®ã†ãˆã§ã€ä»Šå›ã®ç›®æ¨™ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚

```callout
----
icon: ğŸ·
title: ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ã®ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã‚’å­¦ç¿’ã—ã¦è‡ªå‹•ç”Ÿæˆã™ã‚‹
----
```

ã“ã“ã§ã„ã†ã€Œå­¦ç¿’ã€ã¨ã¯ã€**æ©Ÿæ¢°å­¦ç¿’**ã¨ã‹ã®å­¦ç¿’ã§ã™ã€‚ä»Šå›ä½¿ã†æ–¹æ³•ã¯ãŸã¶ã‚“æ©Ÿæ¢°å­¦ç¿’ã¨ã¯è¨€ãˆã¾ã›ã‚“ãŒã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚’ç”¨ã„ã‚‹ã¨ã„ã†ã“ã¨ã ã‘è¦šãˆã¦ãŠã„ã¦ãã ã•ã„ã€‚

ä¸€ä¸–ã‚’é¢¨é¡ã—ã¦ã„ã‚‹ChatGPTãŒãƒ¬ãƒ™ãƒ«100ã ã¨ã—ã¦ã€ã“ã‚Œã‹ã‚‰ä½œã‚‹ã®ã¯ãƒ¬ãƒ™ãƒ«0.01ãã‚‰ã„ã§ã™ã€‚ã‚ã¾ã‚ŠæœŸå¾…ã›ãšã”è¦§ãã ã•ã„ã€‚

### è„±ç·šï¼šãªãœãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ï¼Ÿ

å®Ÿã¯ã“ã“ã ã‘ã®è©±ã€ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ã‚’é¡Œæã«é¸ã‚“ã ã®ã«ã¯ã€Œé¢ç™½ã„ã‹ã‚‰ã€ä»¥å¤–ã®å¤§ããªç†ç”±ãŒã‚ã‚‹ã®ã§ã™ã€‚

ãã‚Œã¯ã€å¤šå°‘ãã¡ã‚ƒãã¡ã‚ƒã«ãªã£ã¦ã‚‚è¨±å®¹ã•ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚å…ƒãŒãã¡ã‚ƒãã¡ã‚ƒãªã®ã§ã€‚

ã‚½ãƒ ãƒªã‚¨ã®é£Ÿãƒ¬ãƒã¨ã‹ã¯ãƒ¬ãƒ™ãƒ«ãŒé«˜ã™ãã¦ç´ äººã«ã¯ãªã‚“ã®ã“ã¨ã‚„ã‚‰ãªã®ã§ã€ãã‚Œã«ãƒ—ãƒ©ã‚¹ã—ã¦ã€Œã€‡ã€‡å¹´ã«ä¸€åº¦ã€ã®ã‚ªãƒ³ãƒ‘ãƒ¬ãƒ¼ãƒ‰ã¨æ¥ã‚Œã°å®Œç’§ã§ã™ã€‚

## ã©ã†ã‚„ã£ã¦ä½œã‚‹ã®ï¼Ÿ

### ãƒãƒ«ã‚³ãƒ•é€£é–

ã§ã¯è‡ªå‹•ç”Ÿæˆå™¨ã¯ã©ã†ã‚„ã£ã¦ä½œã‚Œã°ã„ã„ã®ã§ã—ã‚‡ã†ã‹ã€‚ãã†æ€ã„ãªãŒã‚‰ãƒãƒƒãƒˆã®æµ·ã‚’æ³³ã„ã§ã„ãŸã¨ãã«ã€ã‚ã‚‹æ–¹æ³•ã‚’ç™ºè¦‹ã—ã¾ã—ãŸã€‚

ãã‚ŒãŒã€Œ**ãƒãƒ«ã‚³ãƒ•é€£é–**ã€ã§ã™ã€‚

ã€Œé€£é–ã€ã¨ã¤ã„ã¦ã„ã‚‹ã®ã§æƒ³åƒãŒã¤ãæ–¹ã‚‚ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å‰ã‹ã‚‰ç”Ÿæˆã—ã¦ã„ã£ã¦ã€ãã‚Œã¾ã§ã®å˜èªã®åˆ—ã‹ã‚‰æ¬¡ã«æ¥ãã†ãªå˜èªã‚’äºˆæ¸¬ã™ã‚‹æ–¹æ³•ã§ã™ã€‚

ã€Œç§ã¯çŠ¬ãŒã€ã¾ã§ç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã¨ãã€æ¬¡ã«æ¥ãã†ãªå˜èªã¯ã€ä¾‹ãˆã°ã€Œå¥½ãã€ã€ã€Œå«Œã„ã€ã§ã—ã‚‡ã†ã€‚ã“ã‚Œã‚‰ã®å€™è£œã®ã†ã¡ãƒ©ãƒ³ãƒ€ãƒ ã§ã€ã¾ãŸã¯æœ€ã‚‚ç¢ºç‡ãŒé«˜ã„ã‚‚ã®ãŒé¸ã°ã‚Œã¾ã™ã€‚

ã€Œç§ã¯çŠ¬ã€ã¾ã§ç”Ÿæˆã•ã‚Œã¦ã„ã‚Œã°ãŠãã‚‰ãæ¬¡ã«ã€ŒãŒã€ãŒæ¥ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã‚¨ã‚»å¤ç›®æ¼±çŸ³ã®æ–‡ç« ã‚’å­¦ç¿’ã—ãªã„é™ã‚Šã¯ã€ã€Œã§ã™ã€ã¯æµçŸ³ã«æ¥ãªã„ã§ã—ã‚‡ã†ã­ã€‚

ä»Šå›ä½¿ã†ã®ã¯ãã®ä¸­ã§ã‚‚æœ€ã‚‚åˆæ­©çš„ãªã‚‚ã®ã§ã™ã€‚

ã€Œç§ã¯çŠ¬ãŒå¥½ãã§ã™ã€‚ã€ã¨ã„ã†æ–‡ç« ã‚’å­¦ç¿’ã™ã‚‹éš›ã«ã€æ¬¡ã®ã‚ˆã†ã«é€£é–ã‚’ä½œã‚Šã¾ã™ã€‚

- ç§ã¯çŠ¬
- ã¯çŠ¬ãŒ
- çŠ¬ãŒå¥½ã
- ãŒå¥½ãã§ã™
- å¥½ãã§ã™ã€‚

ã“ã‚Œã¯å¹…ãŒ3å˜èªã®åŒºé–“ã§åŒºåˆ‡ã£ãŸã‚‚ã®ã‚’å…¨åˆ—æŒ™ã—ã¦ã„ã¾ã™ã€‚

æ¬¡ã«ãã®3å˜èªã‚’2ã¨1ã«åˆ†ã‘ã¾ã™ã€‚ã€Œç§ã¯â†’çŠ¬ã€ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚

1ã¤ã®æ–‡ç« ã‚’å­¦ç¿’ã™ã‚‹ã ã‘ã§ã¯ã€æ–°ãŸãªæ–‡ç« ã¯ç”Ÿæˆã§ãã¾ã›ã‚“ã€‚ä»–ã®æ–‡ç« ã‚‚å­¦ç¿’ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

ã€Œç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã ã£ãŸã€‚ã€ã‚’å­¦ç¿’ã—ã¾ã™ã€‚

- ç§ã¯â†’ã‹ã‚‰ã‚ã’
- ã¯ã‹ã‚‰ã‚ã’â†’ãŒ
- ã‹ã‚‰ã‚ã’ãŒâ†’å¥½ã
- ãŒå¥½ãâ†’ã ã£ãŸ
- å¥½ãã ã£ãŸâ†’ã€‚

ã¨ãªã‚Šã¾ã™ã€‚

æ–‡å­—ã§ã®èª¬æ˜ã«ã¯é™ç•ŒãŒã‚ã‚‹ã®ã§å›³è§£ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

### å›³è§£

![mermaid-diagram-2023-04-17-104325.svg](./assets/mermaid-diagram-2023-04-17-104325.svg)

ã“ã®å›³ã‚’è¦‹ã‚‹ã¨ä»¥ä¸‹ã®4ã¤ã®æ–‡ç« ãŒåŒã˜ç¢ºç‡ã§ç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

- ç§ã¯çŠ¬ãŒå¥½ãã§ã™ã€‚
- ç§ã¯çŠ¬ãŒå¥½ãã ã£ãŸã€‚
- ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã§ã™ã€‚
- ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã ã£ãŸã€‚

ã“ã‚“ãªæ„Ÿã˜ã§ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ã®ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã‚’å­¦ç¿’ã—ã¦ã„ãã¾ã™ã€‚

### ã„ã£ãŸã‚“ã®ã¾ã¨ã‚

```
----
icon: ğŸ’¡
title: ãƒãƒ«ã‚³ãƒ•é€£é–
----
- å‰ã®å˜èªã‹ã‚‰æ¬¡ã®å˜èªã‚’æ¨æ¸¬ã™ã‚‹ãƒ¢ãƒ‡ãƒ«
```

## ãƒ‡ãƒ¼ã‚¿åé›†

### å‡ºå…¸

å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã¯Wikipediaã‚„å€‹äººãƒ–ãƒ­ã‚°ã‹ã‚‰é›†ã‚ã¾ã—ãŸã€‚

ä¿¡é ¼æ€§ã®ä½ã„å‡ºå…¸ãªã®ã§ã‚‚ã—ã‹ã—ãŸã‚‰å­¦ç¿’ãƒ‡ãƒ¼ã‚¿è‡ªä½“ãŒãƒ‹ã‚»ãƒ¢ãƒã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

### å‰å‡¦ç†

- ç®—ç”¨æ•°å­—ã¨æ¼¢æ•°å­—ã®è¡¨è¨˜æºã‚Œã®ä¿®æ­£
- ã€Œ03å¹´ã€ã®ã‚ˆã†ãªç•¥è¨˜ã‚’ã€Œ2003å¹´ã€ã®ã‚ˆã†ã«ä¿®æ­£

å­¦ç¿’ç”¨ãƒ‡ãƒ¼ã‚¿ã¯æ”¹è¡ŒåŒºåˆ‡ã‚Šã®ãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ä¿å­˜ã—ã¦ã„ã¾ã™ã€‚

## å®Ÿè£…

å­¦ç¿’ç”¨ã®ãƒ‡ãƒ¼ã‚¿ã¯æƒã£ãŸã®ã§ã€ã“ã‚Œã‚’å­¦ç¿’ã™ã‚‹ã¨ã“ã‚ã‚’å®Ÿè£…ã—ã¾ã—ã‚‡ã†ã€‚

è¨€èªã¯åˆ¥ã«ãªã‚“ã§ã‚‚è‰¯ã„ã§ã™ãŒã€æ›¸ãã‚„ã™ã„**Python**ã«ã—ã¾ã™ã€‚

### ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿

Pythonã§ãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€æ™‚ã¯withæ–‡ã‚’ä½¿ã„ã¾ã™ã€‚

```python
with open("/path/to/data.txt", "r") as f:
    data = f.readlines()
```

å¤‰æ•°`data`ã¯ã€ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã®ãƒªã‚¹ãƒˆã«ãªã£ã¦ã„ã¾ã™ã€‚

### ãƒ†ã‚­ã‚¹ãƒˆã‚’å˜èªã§åŒºåˆ‡ã‚‹

æ¬¡ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’å˜èªã§åŒºåˆ‡ã‚‹å‡¦ç†ãŒå¿…è¦ã§ã™ã€‚**åˆ†ã‹ã¡æ›¸ã**ã¨ã‚‚è¨€ã‚ã‚Œã¾ã™ã€‚

ã€Œç§ã¯äººé–“ã ã€‚ã€ã¨ã„ã†æ–‡ç« ã‚’(ç§, ã¯, äººé–“, ã , ã€‚)ã«åŒºåˆ‡ã‚Šã¾ã™ã€‚ã¾ãŸã€æ–‡ç« ã®é–‹å§‹ã¨çµ‚äº†ã«ã¯ãã‚Œã‚’ç¤ºã™è¨˜å·ã‚’è¿½åŠ ã—ã¾ã™ã€‚ï¼ˆå¾Œã®å‡¦ç†ã§ã“ã‚ŒãŒã‚ã‚‹ã¨ä¾¿åˆ©ï¼‰

å˜èªã§åŒºåˆ‡ã‚‹éƒ¨åˆ†ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’è‡ªåˆ†ã§è€ƒãˆã‚‹ã®ã¯é›£ã—ã„ã®ã§ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®åŠ›ã‚’å€Ÿã‚Šã¾ã—ã‚‡ã†ã€‚

ä»Šå›ä½¿ç”¨ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯**MeCab**ã§ã™ã€‚è©³ã—ã„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã¯å…¬å¼ã®Webãƒšãƒ¼ã‚¸ã‚’ã”å‚ç…§ãã ã•ã„ã€‚

[MeCab: Yet Another Part-of-Speech and Morphological Analyzer](https://taku910.github.io/mecab/)

Pythonã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã ã‘ã§ã¯å‹•ã‹ãªã„ç‚¹ã«ã¯æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã®MeCabã‚’Pythonã§å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã®ã§æœ¬ä½“ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªã‘ã‚Œã°å‹•ãã¾ã›ã‚“ã€‚

ã“ã“ã§ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒæ¸ˆã‚“ã§ã„ã‚‹ã¨ã„ã†å‰æã§é€²ã‚ã¾ã™ã€‚

```python
__BEGIN__ = "__BEGIN__"
__END__ = "__END__"

mecab = MeCab.Tagger("-O wakati")
wakati_li = [[__BEGIN__] + mecab.parse(line).split() + [__END__] for line in data]
```

å¤‰æ•°`wakati_li`ã¯æ–‡å­—åˆ—ã®äºŒæ¬¡å…ƒé…åˆ—ã«ãªã£ã¦ã„ã¾ã™ã€‚

### ãƒ†ã‚­ã‚¹ãƒˆã®äºˆæ¸¬ç”¨ãƒ‡ãƒ¼ã‚¿ã‚’ä½œã‚‹

ã“ã“ã‹ã‚‰ã¯å°‘ã—è¾¼ã¿å…¥ã£ãŸè©±ã«ãªã‚Šã¾ã™ã€‚

å‰ã®2å˜èªã‹ã‚‰æ¬¡ã®å˜èªã‚’äºˆæ¸¬ã™ã‚‹ã®ã§ã€å‰ã®å˜èªã‚’å…¥åŠ›ã™ã‚‹ã¨ã€æ¬¡ã®å˜èªå€™è£œãŒè¿”ã£ã¦ã“ãªã„ã¨ã„ã‘ã¾ã›ã‚“ã€‚

ã•ã‚‰ã«ã€æ¬¡ã®å˜èªã¯å‡ºç¾é »åº¦ãŒå˜èªã«ã‚ˆã£ã¦ç•°ãªã‚‹ã®ã§ã€æ¬¡ã®å˜èªã‚’å…¥åŠ›ã™ã‚‹ã¨ã€å‡ºç¾å›æ•°ãŒè¿”ã£ã¦ãã‚‹ãƒ‡ãƒ¼ã‚¿ã‚‚æŒãŸãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

å‡ºç¾å›æ•°ãŒã‚ã‹ã‚Œã°ã€å„å˜èªã®å‡ºç¾ç¢ºç‡ã¯æ¬¡ã®ã‚ˆã†ã«è¨ˆç®—ã§ãã¾ã™ã€‚

$$
P(x_{n}|x_{n-1}, x_{n-2})=\frac{N(x_{n}|x_{n-1}, x_{n-2})}{\sum_{y\in S}N(y| x_{n-1}, x_{n-2})}
$$

ãŸã ã—ã€$x_i$ã¯$i$ç•ªç›®ã«ç™»å ´ã™ã‚‹å˜èªã€$N(\cdot)$ã¯å˜èªã®ç™»å ´å›æ•°ã§ã€ã“ã“ã§ã¯å‰ã®2å˜èªãŒæ±ºã¾ã£ãŸä¸Šã§ã®ç™»å ´å›æ•°ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚ã¾ãŸ$S$ã¯å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã«ç™»å ´ã™ã‚‹å…¨å˜èªã®é›†åˆã§ã™ã€‚

![mermaid-diagram-2023-04-17-184054.svg](./assets/mermaid-diagram-2023-04-17-184054.svg)

ã‚´ãƒ¼ãƒ«ã¯ä¸Šã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚

ã“ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’è¨€è‘‰ã§èª¬æ˜ã™ã‚‹ã¨ã€ã€Œ[2å˜èªã®ç³»åˆ—ã‚’å…¥åŠ›ã«ä¸ãˆã‚‹ã¨ã€(æ¬¡ã®å˜èª, å‡ºç¾å›æ•°)ã‚’ä¸¦ã¹ãŸãƒªã‚¹ãƒˆãŒè¿”ã£ã¦ãã‚‹ã¨ã„ã†ã‚‚ã®]ã®ã‚ã¤ã¾ã‚Šã€ã€ã«ãªã‚Šã¾ã™ã€‚

ã‚ã¨ã¤ã„ã§ã«æ–‡ç« ã®æœ€åˆã®å˜èªã‚‚åˆ¥ã§å¤‰æ•°ã«å…¥ã‚Œã¾ã™ã€‚

```python
from collections import defaultdict

pred: defaultdict[tuple[str, str], defaultdict[str, int]] = defaultdict(lambda: defaultdict(int))
starts: defaultdict[str, int] = defaultdict(int)
for line in wakati_li:
    starts[line[1]] += 1
    for i in range(len(line) - 2):
        pred[(line[i], line[i + 1])][line[i + 2]] += 1
```

### ç”Ÿæˆã™ã‚‹

ã“ã“ã¾ã§ã§ç”Ÿæˆã™ã‚‹æº–å‚™ãŒå®Œäº†ã—ã¾ã—ãŸã€‚

æœ€åˆã®å˜èªãŒé¸ã°ã‚ŒãŸã‚‰ã€ãã“ã‹ã‚‰äºˆæ¸¬ã‚’ç¹°ã‚Šè¿”ã™ã“ã¨ã§æ–‡ç« ãŒç”Ÿæˆã•ã‚Œã¦ã„ãã¾ã™ã€‚

äºˆæ¸¬ãŒæ–‡ç« ã®çµ‚ã‚Šã‚’ç¤ºã™è¨˜å·`"__END__"`ã ã£ãŸã¨ãã€äºˆæ¸¬ãŒçµ‚äº†ã—ã¾ã™ã€‚

```python
import random

sentence = [__BEGIN__]
next_word = random.choices(list(starts.keys()), list(starts.values()))[0]
sentence.append(next_word)
while next_word != __END__:
    pre_words = (sentence[-2], sentence[-1])
    next_word = random.choices(list(pred[pre_words].keys()), list(pred[pre_words].values()))[0]
    sentence.append(next_word)
print("".join(sentence[1:-1]))
```

ã§ã¯æ¬¡ã®2ã¤ã®æ–‡ç« ã‚’å­¦ç¿’ã•ã›ã¦ã€20å›ç”Ÿæˆã—ã¾ã—ã‚‡ã†ã€‚

ã€å­¦ç¿’ã™ã‚‹æ–‡ç« ã€‘

```plaintext
ç§ã¯çŠ¬ãŒå¥½ãã§ã™ã€‚
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã ã£ãŸã€‚
```

ã€ç”Ÿæˆã•ã‚ŒãŸæ–‡ç« ã€‘

```plaintext
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯çŠ¬ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯çŠ¬ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯çŠ¬ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯çŠ¬ãŒå¥½ãã§ã™ã€‚
ç§ã¯çŠ¬ãŒå¥½ãã§ã™ã€‚
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã§ã™ã€‚
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã§ã™ã€‚
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã§ã™ã€‚
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯çŠ¬ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯çŠ¬ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯çŠ¬ãŒå¥½ãã ã£ãŸã€‚
ç§ã¯ã‹ã‚‰ã‚ã’ãŒå¥½ãã§ã™ã€‚
```

ãƒãƒ«ã‚³ãƒ•é€£é–ã®èª¬æ˜ã®ã¨ãã«ä½¿ã£ãŸä¾‹ã§ã™ãŒã€ã¡ã‚ƒã‚“ã¨4ç¨®é¡ã®æ–‡ç« ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ã¾ã™ã­ã€‚

ã¨ã„ã†ã‚ã‘ã§ã€ã“ã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒ»ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ã®ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã«ç½®ãæ›ãˆã‚Œã°å®Œæˆã§ã™ï¼

ä»Šæ—¥ã‹ã‚‰ã‚ãªãŸã‚‚ã‚½ãƒ ãƒªã‚¨ã§ã™ã­ï¼

### ã‚¯ãƒ©ã‚¹ã«ã¾ã¨ã‚ãŸ

å†åˆ©ç”¨ã—ãŸã„ã®ã§ã€ã‚¯ãƒ©ã‚¹ã«ã¾ã¨ã‚ã¾ã—ã‚‡ã†ã€‚

[https://gist.github.com/ayu0616/794f9c6a56f28a21cdcb2c4be06862fc](https://gist.github.com/ayu0616/794f9c6a56f28a21cdcb2c4be06862fc)

```python
import random
from collections import defaultdict

import MeCab

class Marcov:
    __BEGIN__ = "__BEGIN__"
    __END__ = "__END__"
    mecab = MeCab.Tagger("-O wakati")

    def __init__(self, data_path: str | None = None, text_data: list[str] | None = None) -> None:
        self.text_data: list[str] = []
        if data_path:
            self.load_textfile(data_path)
        if text_data:
            self.text_data.extend(text_data)

    def __wakati(self, text: str) -> list[str]:
        return [self.__BEGIN__] + self.mecab.parse(text).split() + [self.__END__]
    
    def load_textfile(self, data_path: str):
        with open(data_path, "r") as f:
            self.text_data.extend(f.readlines())

    def train(self):
        self.pred_dict: defaultdict[tuple[str, str], defaultdict[str, int]] = defaultdict(lambda: defaultdict(int))
        self.start_dict: defaultdict[str, int] = defaultdict(int)
        wakati_li = [self.__wakati(line) for line in self.text_data]
        for line in wakati_li:
            self.start_dict[line[1]] += 1
            for i in range(len(line) - 2):
                self.pred_dict[(line[i], line[i + 1])][line[i + 2]] += 1

    def generate(self):
        if self.pred_dict is None:
            raise Exception("Please train before generate")
        sentence = [self.__BEGIN__]
        next_word = random.choices(list(self.start_dict.keys()), list(self.start_dict.values()))[0]
        sentence.append(next_word)
        while next_word != self.__END__:
            pre_words = (sentence[-2], sentence[-1])
            next_word = random.choices(list(self.pred_dict[pre_words].keys()), list(self.pred_dict[pre_words].values()))[0]
            sentence.append(next_word)
        return "".join(sentence[1:-1])
```

ç§ã¯ç‹¬å­¦ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’ç¿’å¾—ã—ãŸã®ã§ã€ã‚¯ãƒ©ã‚¹ã®ä½œã‚Šã®ãŠä½œæ³•ã¿ãŸã„ã®ã‚‚ã®ãŒã‚‚ã—ã‚ã‚‹ãªã‚‰å…¨ç„¶ã‚ã‹ã‚“ãªã„ã‚“ã§ã™ã‚ˆã­ã€‚ã‚‚ã—å¤‰ãªæ‰€ãŒã‚ã‚Œã°æŒ‡æ‘˜ã—ã¦ãã ã•ã„ã€‚

## å®Œæˆ

ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ã®ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ç”Ÿæˆå™¨ãŒå®Œæˆã—ã¾ã—ãŸï¼

ã“ã®æ–¹æ³•ã‚’ä½¿ã£ãŸç”Ÿæˆå™¨ã‚’[ã“ã¡ã‚‰ã®ãƒšãƒ¼ã‚¸](https://hassaku-travel-blog.com/trash-can/beaujolais)ã§é…ä¿¡ã—ã¦ã„ã‚‹ã®ã§ã€ãœã²ã”è¦§ãã ã•ã„ï¼

[ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼ãƒŒãƒ¼ãƒœãƒ¼ã‚¨ã‚»ã‚½ãƒ ãƒªã‚¨ç”Ÿæˆå™¨ - ã¯ã£ã•ãã®æ—…ãƒ–ãƒ­ã‚°](https://hassaku-travel-blog.com/trash-can/beaujolais)

ãƒšãƒ¼ã‚¸å†…ã®ã€Œãã¡ã‚ƒãã¡ã‚ƒã€ãƒ¢ãƒ¼ãƒ‰ã¯ã€ä»Šå›ã®æ–¹æ³•ã®ç™ºå±•ç‰ˆã§ã™ã€‚å¥½è©•ã ã£ãŸã‚‰åˆ¥ã®è¨˜äº‹ã§è§£èª¬ã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

---

ã“ã“ã¾ã§ãŠèª­ã¿ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚

ã“ã®è¨˜äº‹ãŒã€10å¹´ã«ä¸€åº¦ã¨è¨€ã‚ã‚ŒãŸæ˜¨å¹´ã®è¨˜äº‹ã«åŒ¹æ•µã™ã‚‹10å¹´ã«ä¸€åº¦ã®å‡ºæ¥ã ã¨æ€ã£ãŸã‚‰ã€å£ã‚³ãƒŸã‚„SNSã§ã‚·ã‚§ã‚¢ã—ã¦ã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚
