---
published: false
publishedAt: 
tags: 
created: 2024-06-24 16:20:57+09:00
modified: 2024-06-24 16:58:59+09:00
---

# 通学路の組み合わせ総数

みなさんは通学路をいくつ持っていますか？
パッと答えられなかったアナタは、自分の通学路の個数、知りたくありませんか？

私はとても知りたい！ というのも、私は現在兵庫県の某所から京都市の大学に2時間前後かけて通学しているため、通学路が複数存在しているのです。
普段は定期を使って決まったルートを通学するのみですが、定期が切れたときはここぞとばかりに様々なルートで通っています。そんなルートの総数、知りたいですよね？

## 問題設定

ルートの総数を求める上でいくつか前提条件を設けます。
そうしないとルートの数が無限大に発散したり、天文学的な数字になってしまうからです。

### 前提1. グラフで考える

ルートをグラフで考えることにします。
グラフとは[グラフ理論](https://ja.m.wikipedia.org/wiki/%E3%82%B0%E3%83%A9%E3%83%95%E7%90%86%E8%AB%96)のグラフです。

例えば自宅から駅への徒歩を考えたとき、曲がる交差点を変えたりすれば無数にルートを生み出せますが、面白くないので自宅→駅の徒歩移動は1通りとしたいと思います。グラフを利用するとこうした単純化を行うことができます。

以下のようなグラフを考えます。

- 頂点
    - 自宅
    - 駅
        - 終点
        - 乗換駅
        - 自宅・大学の最寄駅
    - バス停
        - バス停以外の頂点の最寄り（同一頂点に最寄りが複数存在する場合もある）
    - 大学
- 枝
    - 徒歩
    - 鉄道路線（含：新幹線）
    - バス路線

このグラフは有向グラフで、特に[DAG](https://ja.m.wikipedia.org/wiki/%E6%9C%89%E5%90%91%E9%9D%9E%E5%B7%A1%E5%9B%9E%E3%82%B0%E3%83%A9%E3%83%95)となるように構築します。

ルートをグラフとして表現することで、問題をシンプルに表すことができました。

### 前提2. グラフの枝は独断で

頂点同士を枝で結ぶかどうかの基準は独断で決めたいと思います。
極端な話、徒歩で大学まで通ったり（70km超）できてしまうので、最短の通学時間である2時間弱からあまりに離れたルートを選べないように枝を張ります。
